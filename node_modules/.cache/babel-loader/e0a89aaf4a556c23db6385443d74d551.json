{"ast":null,"code":"import _slicedToArray from\"C:/Users/eryko/Desktop/ReactProjects/discord-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import'./ChannelsList.css';import UserContainer from'./UserContainer';import Category from'./Category';import ChannelsListHeader from'./ChannelsListHeader';import db from'./firebase';import{useSelector}from'react-redux';import{selectServerId}from'./features/counter/appSlice';function ChannelsList(){var serverId=useSelector(selectServerId);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];// insert data from database to categories array\nuseEffect(function(){if(serverId){db.collection('servers').doc(serverId).collection('categories').orderBy('timestamp').onSnapshot(function(snapshot){setCategories(snapshot.docs.map(function(doc){return{id:doc.id,category:doc.data()};}));});}},[serverId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"channelsList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"channelsList_top\",children:[/*#__PURE__*/_jsx(ChannelsListHeader,{title:\"Channel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"channelsList_body\",children:// render categories from array\ncategories.map(function(_ref){var id=_ref.id,category=_ref.category;return/*#__PURE__*/_jsx(Category,{id:id,title:category.categoryName},id);})})]}),/*#__PURE__*/_jsx(UserContainer,{})]});}export default ChannelsList;","map":{"version":3,"sources":["C:/Users/eryko/Desktop/ReactProjects/discord-clone/src/ChannelsList.js"],"names":["React","useState","useEffect","UserContainer","Category","ChannelsListHeader","db","useSelector","selectServerId","ChannelsList","serverId","categories","setCategories","collection","doc","orderBy","onSnapshot","snapshot","docs","map","id","category","data","categoryName"],"mappings":"6NAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,cAAT,KAA+B,6BAA/B,CAEA,QAASC,CAAAA,YAAT,EAAwB,CACpB,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,CAACC,cAAD,CAA5B,CADoB,cAEgBP,QAAQ,CAAC,EAAD,CAFxB,wCAEbU,UAFa,eAEDC,aAFC,eAIpB;AACAV,SAAS,CAAC,UAAM,CACZ,GAAIQ,QAAJ,CAAc,CACVJ,EAAE,CAACO,UAAH,CAAc,SAAd,EAAyBC,GAAzB,CAA6BJ,QAA7B,EAAuCG,UAAvC,CAAkD,YAAlD,EAAgEE,OAAhE,CAAwE,WAAxE,EAAqFC,UAArF,CAAgG,SAACC,QAAD,CAAc,CAC1GL,aAAa,CACTK,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACL,GAAD,QAAU,CACxBM,EAAE,CAAEN,GAAG,CAACM,EADgB,CAExBC,QAAQ,CAAEP,GAAG,CAACQ,IAAJ,EAFc,CAAV,EAAlB,CADS,CAAb,CAMH,CAPD,EAQH,CACJ,CAXQ,CAWN,CAACZ,QAAD,CAXM,CAAT,CAaA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,KAAC,kBAAD,EAAoB,KAAK,CAAC,SAA1B,EADJ,cAEI,YAAK,SAAS,CAAC,mBAAf,UACK;AACDC,UAAU,CAACQ,GAAX,CAAe,kBAAGC,CAAAA,EAAH,MAAGA,EAAH,CAAOC,QAAP,MAAOA,QAAP,oBACX,KAAC,QAAD,EAAmB,EAAE,CAAED,EAAvB,CAA2B,KAAK,CAAEC,QAAQ,CAACE,YAA3C,EAAeH,EAAf,CADW,EAAf,CAFJ,EAFJ,GADJ,cAUI,KAAC,aAAD,IAVJ,GADJ,CAcH,CAED,cAAeX,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './ChannelsList.css'\r\nimport UserContainer from './UserContainer'\r\nimport Category from './Category'\r\nimport ChannelsListHeader from './ChannelsListHeader'\r\nimport db from './firebase'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectServerId } from './features/counter/appSlice';\r\n\r\nfunction ChannelsList() {\r\n    const serverId = useSelector(selectServerId);\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    // insert data from database to categories array\r\n    useEffect(() => {\r\n        if (serverId) {\r\n            db.collection('servers').doc(serverId).collection('categories').orderBy('timestamp').onSnapshot((snapshot) => {\r\n                setCategories(\r\n                    snapshot.docs.map((doc) => ({\r\n                        id: doc.id,\r\n                        category: doc.data(),\r\n                    }))\r\n                )\r\n            })\r\n        }\r\n    }, [serverId])\r\n\r\n    return (\r\n        <div className='channelsList'>\r\n            <div className='channelsList_top'>\r\n                <ChannelsListHeader title='Channel' />\r\n                <div className='channelsList_body'>\r\n                    {// render categories from array\r\n                    categories.map(({ id, category }) => (\r\n                        <Category key={id} id={id} title={category.categoryName} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <UserContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChannelsList\r\n"]},"metadata":{},"sourceType":"module"}