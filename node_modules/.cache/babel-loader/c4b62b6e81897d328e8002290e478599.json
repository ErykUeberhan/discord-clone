{"ast":null,"code":"import _slicedToArray from\"C:/Users/eryko/Desktop/ReactProjects/discord-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{Link,useHistory}from'react-router-dom';import ServerIcon from'./ServerIcon';import MainPageIcon from'./MainPageIcon';import'./Menu.css';import avatar from'./images/avatar.png';import DownloadIcon from'./DownloadIcon';import ExploreIcon from'./ExploreIcon';import AddServerIcon from'./AddServerIcon';import db from'./firebase';function Menu(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),servers=_useState2[0],setServers=_useState2[1];var history=useHistory();if(servers.length===0){history.push('/');}useEffect(function(){db.collection('servers').orderBy('timestamp').onSnapshot(function(snapshot){return setServers(snapshot.docs.map(function(doc){return{id:doc.id,server:doc.data()};}));});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"menu\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"menu_link\",children:/*#__PURE__*/_jsx(MainPageIcon,{image:avatar})}),/*#__PURE__*/_jsx(\"div\",{className:\"separator\"}),servers.map(function(_ref){var id=_ref.id,server=_ref.server;return/*#__PURE__*/_jsx(Link,{to:\"/channel\",className:\"menu_link\",children:/*#__PURE__*/_jsx(ServerIcon,{id:id,title:server.serverName},id)});}),/*#__PURE__*/_jsx(AddServerIcon,{}),/*#__PURE__*/_jsx(ExploreIcon,{}),/*#__PURE__*/_jsx(\"div\",{className:\"separator\"}),/*#__PURE__*/_jsx(DownloadIcon,{})]});}export default Menu;","map":{"version":3,"sources":["C:/Users/eryko/Desktop/ReactProjects/discord-clone/src/Menu.js"],"names":["React","useEffect","useState","Link","useHistory","ServerIcon","MainPageIcon","avatar","DownloadIcon","ExploreIcon","AddServerIcon","db","Menu","servers","setServers","history","length","push","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","server","data","serverName"],"mappings":"6NAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CAGA,QAASC,CAAAA,IAAT,EAAgB,eACkBV,QAAQ,CAAC,EAAD,CAD1B,wCACLW,OADK,eACIC,UADJ,eAEZ,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CAEA,GAAIS,OAAO,CAACG,MAAR,GAAmB,CAAvB,CAA0B,CACtBD,OAAO,CAACE,IAAR,CAAa,GAAb,EACH,CAEDhB,SAAS,CAAC,UAAM,CACZU,EAAE,CAACO,UAAH,CAAc,SAAd,EAAyBC,OAAzB,CAAiC,WAAjC,EAA8CC,UAA9C,CAAyD,SAACC,QAAD,QACrDP,CAAAA,UAAU,CAACO,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CACnCC,EAAE,CAAED,GAAG,CAACC,EAD2B,CAEnCC,MAAM,CAAEF,GAAG,CAACG,IAAJ,EAF2B,CAAV,EAAlB,CAAD,CAD2C,EAAzD,EAOH,CARQ,CAQN,EARM,CAAT,CASA,mBACI,aAAK,SAAS,CAAC,MAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,WAAvB,uBACI,KAAC,YAAD,EAAc,KAAK,CAAEpB,MAArB,EADJ,EADJ,cAKI,YAAK,SAAS,CAAC,WAAf,EALJ,CAOKM,OAAO,CAACU,GAAR,CAAY,kBAAGE,CAAAA,EAAH,MAAGA,EAAH,CAAOC,MAAP,MAAOA,MAAP,oBACT,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,WAA9B,uBACI,KAAC,UAAD,EAAqB,EAAE,CAAED,EAAzB,CAA6B,KAAK,CAAEC,MAAM,CAACE,UAA3C,EAAiBH,EAAjB,CADJ,EADS,EAAZ,CAPL,cAaI,KAAC,aAAD,IAbJ,cAcI,KAAC,WAAD,IAdJ,cAeI,YAAK,SAAS,CAAC,WAAf,EAfJ,cAgBI,KAAC,YAAD,IAhBJ,GADJ,CAoBH,CAED,cAAeb,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport ServerIcon from './ServerIcon'\r\nimport MainPageIcon from './MainPageIcon'\r\nimport './Menu.css'\r\nimport avatar from './images/avatar.png';\r\nimport DownloadIcon from './DownloadIcon'\r\nimport ExploreIcon from './ExploreIcon'\r\nimport AddServerIcon from './AddServerIcon'\r\nimport db from './firebase';\r\n\r\n\r\nfunction Menu() {\r\n    const [servers, setServers] = useState([]);\r\n    const history = useHistory();\r\n\r\n    if (servers.length === 0) {\r\n        history.push('/');\r\n    }\r\n\r\n    useEffect(() => {\r\n        db.collection('servers').orderBy('timestamp').onSnapshot((snapshot) =>\r\n            setServers(snapshot.docs.map((doc) => ({\r\n                id: doc.id,\r\n                server: doc.data(),\r\n            })))\r\n        );\r\n\r\n    }, [])\r\n    return (\r\n        <div className='menu'>\r\n            <Link to='/' className='menu_link'>\r\n                <MainPageIcon image={avatar} />\r\n            </Link>\r\n\r\n            <div className='separator' />\r\n\r\n            {servers.map(({ id, server }) => (\r\n                <Link to='/channel' className='menu_link'>\r\n                    <ServerIcon key={id} id={id} title={server.serverName} />\r\n                </Link>\r\n            ))}\r\n\r\n            <AddServerIcon />\r\n            <ExploreIcon />\r\n            <div className='separator' />\r\n            <DownloadIcon />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu\r\n"]},"metadata":{},"sourceType":"module"}